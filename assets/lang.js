// Syst√®me multilingue pour Guide Katikias 33
// Langues support√©es: Fran√ßais, English, Deutsch, Espa√±ol

const translations = {
    fr: {
        // Navigation commune
        "nav.back": "‚Üê Retour",
        
        // index.html
        "index.title": "üè° Katikias 33",
        "index.subtitle": "Votre guide digital complet",
        "index.welcome.title": "Bienvenue √† la maison !",
        "index.welcome.greeting": "üíå Mot d'accueil",
        "index.welcome.text1": "Nous sommes heureux de vous accueillir chez nous. Nous passons fr√©quemment de tr√®s agr√©ables moments dans cet appartement et nous esp√©rons qu'il en sera de m√™me pour vous.",
        "index.welcome.text2": "Nous avons mis tout notre c≈ìur et beaucoup de soin pour meubler ce petit cocon et nous ne doutons pas, que vous saurez, vous aussi, en profiter et le pr√©server au mieux pour ceux qui vous succ√©deront.",
        "index.welcome.text3": "Nous vous invitons, avant tout, √† profiter de l'appartement et de la vue magnifique qu'il offre sur la baie de Bandol, l'√Æle de Bendor et sur la mer. Nous avons r√©alis√© ce guide pour rendre votre s√©jour plus agr√©able et pour essayer de r√©pondre au mieux aux questions que vous pourriez vous poser.",
        "index.welcome.text4": "Bon s√©jour‚Ä¶",
        "index.welcome.text5": "B√©atrix et Jean-Fran√ßois.",
        "index.essentiels.title": "‚ú® Essentiels √† l'arriv√©e",
        "index.essentiels.desc": "Petites astuces pour faciliter votre installation et votre s√©jour.",
        "index.equipements.title": "Les Equipements",
        "index.equipements.desc": "Climatisation, T√©l√©vision, Four, plaques √† induction, volets roulant... de chaque pi√®ce de l'appartements: Salon, Terrasse, Cuisine...",
        "index.residence.title": "La R√©sidence",
        "index.residence.desc": "Informations sur la r√©sidence des Katikias, gardiens, piscine, parc et services de la copropri√©t√©.",
        "index.proximity.title": "√Ä Proximit√©",
        "index.proximity.desc": "Commerces, activit√©s, plages et acc√®s rapides autour des Katikias.",
        "index.departure.title": "Votre D√©part",
        "index.departure.desc": "Un dernier coup d'≈ìil sur la baie et c'est l'heure du d√©part. Checklist de d√©part et toutes les √©tapes pour bien terminer votre s√©jour.",
        "index.quick.title": "üîë Acc√®s Rapide",
        "index.quick.portail.ped": "üö∂‚Äç‚ôÇÔ∏è Pi√©ton",
        "index.quick.portail.car": "üöó Voiture",
        "index.quick.wifi": "üì∂ Wi-Fi",
        "index.quick.urgences": "üö® Urgences",
        "index.quick.piscine": "üèä‚Äç‚ôÄÔ∏è Piscine",
        "index.quick.piscine.bracelet": "Bracelet rouge obligatoire",
        "index.footer": "Merci de votre confiance ! Bon s√©jour √† Katikias 33 üåü",
        
        // apartment_guide.html
        "apartment.title": "Plan de l'appartement",
        "apartment.subtitle": "Cliquez sur une pi√®ce pour voir ses √©quipements",
        "apartment.guide.title": "Guide Pratique",
        "apartment.guide.link": "Les essentiels √† l'arriv√©e",
        
        // tips_and_tricks.html
        "tips.title": "Les Essentiels √† l'arriv√©e",
        "tips.subtitle": "Tout ce qu'il faut savoir pour bien commencer votre s√©jour",
        
        // residence.html
        "residence.title": "La R√©sidence",
        "residence.subtitle": "Informations sur la r√©sidence des Katikias",
        
        // proximity.html
        "proximity.title": "√Ä Proximit√©",
        "proximity.subtitle": "Commerces, activit√©s, plages et acc√®s autour de Katikias 33",
        
        // departure_procedure.html
        "departure.title": "Votre D√©part",
        "departure.subtitle": "Checklist et proc√©dures de d√©part",
        
        // emergencies.html
        "emergencies.title": "Urgences",
        "emergencies.subtitle": "Num√©ros d'urgence et contacts importants",
        
        // Pages de pi√®ces communes
        "room.equipments": "√âquipements",
        "room.no_image": "Image non disponible",
        "room.back": "‚Üê Retour au plan",
        
        // salon.html
        "salon.title": "Salon",
        
        // chambre.html
        "chambre.title": "Chambre",
        
        // cuisine.html
        "cuisine.title": "Cuisine",
        
        // terrasse.html
        "terrasse.title": "Terrasse",
        
        // salle_manger.html
        "salle_manger.title": "Salle √† manger",
        
        // salle_deau.html
        "salle_deau.title": "Salle d'eau",
        
        // wc.html
        "wc.title": "WC",
        
        // placard_bleu.html
        "placard.title": "Placard Bleu"
    },
    
    en: {
        // Navigation commune
        "nav.back": "‚Üê Back",
        
        // index.html
        "index.title": "üè° Katikias 33",
        "index.subtitle": "Your complete digital guide",
        "index.welcome.title": "Welcome home!",
        "index.welcome.greeting": "üíå Welcome message",
        "index.welcome.text1": "We are happy to welcome you to our home. We often spend very pleasant moments in this apartment and we hope it will be the same for you.",
        "index.welcome.text2": "We have put all our heart and a lot of care into furnishing this little haven and we have no doubt that you will also be able to enjoy it and preserve it as best as possible for those who will follow you.",
        "index.welcome.text3": "We invite you, above all, to enjoy the apartment and the magnificent view it offers of Bandol Bay, Bendor Island and the sea. We created this guide to make your stay more pleasant and to try to answer as best as possible the questions you might have.",
        "index.welcome.text4": "Have a great stay‚Ä¶",
        "index.welcome.text5": "B√©atrix and Jean-Fran√ßois.",
        "index.essentiels.title": "‚ú® Essentials on arrival",
        "index.essentiels.desc": "Little tips to make your arrival and stay easier.",
        "index.equipements.title": "Equipment",
        "index.equipements.desc": "Air conditioning, Television, Oven, induction hobs, roller shutters... for each room in the apartment: Living room, Terrace, Kitchen...",
        "index.residence.title": "The Residence",
        "index.residence.desc": "Information about Katikias residence, caretakers, swimming pool, park and condominium services.",
        "index.proximity.title": "Nearby",
        "index.proximity.desc": "Shops, activities, beaches and quick access around Katikias.",
        "index.departure.title": "Your Departure",
        "index.departure.desc": "One last look at the bay and it's time to leave. Departure checklist and all the steps to properly end your stay.",
        "index.quick.title": "üîë Quick Access",
        "index.quick.portail.ped": "üö∂‚Äç‚ôÇÔ∏è Pedestrian",
        "index.quick.portail.car": "üöó Car",
        "index.quick.wifi": "üì∂ Wi-Fi",
        "index.quick.urgences": "üö® Emergencies",
        "index.quick.piscine": "üèä‚Äç‚ôÄÔ∏è Pool",
        "index.quick.piscine.bracelet": "Red bracelet required",
        "index.footer": "Thank you for your trust! Have a great stay at Katikias 33 üåü",
        
        // apartment_guide.html
        "apartment.title": "Apartment plan",
        "apartment.subtitle": "Click on a room to see its equipment",
        "apartment.guide.title": "Practical Guide",
        "apartment.guide.link": "Essentials on arrival",
        
        // tips_and_tricks.html
        "tips.title": "Essentials on arrival",
        "tips.subtitle": "Everything you need to know to start your stay well",
        
        // residence.html
        "residence.title": "The Residence",
        "residence.subtitle": "Information about Katikias residence",
        
        // proximity.html
        "proximity.title": "Nearby",
        "proximity.subtitle": "Shops, activities, beaches and access around Katikias 33",
        
        // departure_procedure.html
        "departure.title": "Your Departure",
        "departure.subtitle": "Departure checklist and procedures",
        
        // emergencies.html
        "emergencies.title": "Emergencies",
        "emergencies.subtitle": "Emergency numbers and important contacts",
        
        // Pages de pi√®ces communes
        "room.equipments": "Equipment",
        "room.no_image": "Image not available",
        "room.back": "‚Üê Back to plan",
        
        // salon.html
        "salon.title": "Living Room",
        
        // chambre.html
        "chambre.title": "Bedroom",
        
        // cuisine.html
        "cuisine.title": "Kitchen",
        
        // terrasse.html
        "terrasse.title": "Terrace",
        
        // salle_manger.html
        "salle_manger.title": "Dining Room",
        
        // salle_deau.html
        "salle_deau.title": "Bathroom",
        
        // wc.html
        "wc.title": "Toilet",
        
        // placard_bleu.html
        "placard.title": "Blue Closet"
    },
    
    de: {
        // Navigation commune
        "nav.back": "‚Üê Zur√ºck",
        
        // index.html
        "index.title": "üè° Katikias 33",
        "index.subtitle": "Ihr vollst√§ndiger digitaler F√ºhrer",
        "index.welcome.title": "Willkommen zu Hause!",
        "index.welcome.greeting": "üíå Willkommensnachricht",
        "index.welcome.text1": "Wir freuen uns, Sie in unserem Zuhause begr√º√üen zu d√ºrfen. Wir verbringen oft sehr angenehme Momente in dieser Wohnung und hoffen, dass es f√ºr Sie genauso sein wird.",
        "index.welcome.text2": "Wir haben unser ganzes Herz und viel Sorgfalt in die Einrichtung dieses kleinen Zufluchtsorts gesteckt und zweifeln nicht daran, dass Sie es auch genie√üen und bestm√∂glich f√ºr diejenigen bewahren k√∂nnen, die Ihnen folgen werden.",
        "index.welcome.text3": "Wir laden Sie vor allem ein, die Wohnung und die herrliche Aussicht auf die Bucht von Bandol, die Insel Bendor und das Meer zu genie√üen. Wir haben diesen F√ºhrer erstellt, um Ihren Aufenthalt angenehmer zu gestalten und Ihre Fragen bestm√∂glich zu beantworten.",
        "index.welcome.text4": "Sch√∂nen Aufenthalt‚Ä¶",
        "index.welcome.text5": "B√©atrix und Jean-Fran√ßois.",
        "index.essentiels.title": "‚ú® Wichtiges bei Ankunft",
        "index.essentiels.desc": "Kleine Tipps, um Ihre Ankunft und Ihren Aufenthalt zu erleichtern.",
        "index.equipements.title": "Ausr√ºstung",
        "index.equipements.desc": "Klimaanlage, Fernseher, Ofen, Induktionskochfelder, Rolll√§den... f√ºr jeden Raum der Wohnung: Wohnzimmer, Terrasse, K√ºche...",
        "index.residence.title": "Die Residenz",
        "index.residence.desc": "Informationen √ºber die Katikias-Residenz, Hausmeister, Schwimmbad, Park und Dienstleistungen der Eigent√ºmergemeinschaft.",
        "index.proximity.title": "In der N√§he",
        "index.proximity.desc": "Gesch√§fte, Aktivit√§ten, Str√§nde und schneller Zugang rund um Katikias.",
        "index.departure.title": "Ihre Abreise",
        "index.departure.desc": "Ein letzter Blick auf die Bucht und es ist Zeit zu gehen. Abreise-Checkliste und alle Schritte, um Ihren Aufenthalt ordentlich zu beenden.",
        "index.quick.title": "üîë Schnellzugriff",
        "index.quick.portail.ped": "üö∂‚Äç‚ôÇÔ∏è Fu√üg√§nger",
        "index.quick.portail.car": "üöó Auto",
        "index.quick.wifi": "üì∂ Wi-Fi",
        "index.quick.urgences": "üö® Notf√§lle",
        "index.quick.piscine": "üèä‚Äç‚ôÄÔ∏è Pool",
        "index.quick.piscine.bracelet": "Rotes Armband erforderlich",
        "index.footer": "Vielen Dank f√ºr Ihr Vertrauen! Sch√∂nen Aufenthalt in Katikias 33 üåü",
        
        // apartment_guide.html
        "apartment.title": "Wohnungsplan",
        "apartment.subtitle": "Klicken Sie auf einen Raum, um dessen Ausstattung zu sehen",
        "apartment.guide.title": "Praktischer F√ºhrer",
        "apartment.guide.link": "Wichtiges bei Ankunft",
        
        // tips_and_tricks.html
        "tips.title": "Wichtiges bei Ankunft",
        "tips.subtitle": "Alles, was Sie wissen m√ºssen, um Ihren Aufenthalt gut zu beginnen",
        
        // residence.html
        "residence.title": "Die Residenz",
        "residence.subtitle": "Informationen √ºber die Katikias-Residenz",
        
        // proximity.html
        "proximity.title": "In der N√§he",
        "proximity.subtitle": "Gesch√§fte, Aktivit√§ten, Str√§nde und Zugang rund um Katikias 33",
        
        // departure_procedure.html
        "departure.title": "Ihre Abreise",
        "departure.subtitle": "Abreise-Checkliste und Verfahren",
        
        // emergencies.html
        "emergencies.title": "Notf√§lle",
        "emergencies.subtitle": "Notrufnummern und wichtige Kontakte",
        
        // Pages de pi√®ces communes
        "room.equipments": "Ausr√ºstung",
        "room.no_image": "Bild nicht verf√ºgbar",
        "room.back": "‚Üê Zur√ºck zum Plan",
        
        // salon.html
        "salon.title": "Wohnzimmer",
        
        // chambre.html
        "chambre.title": "Schlafzimmer",
        
        // cuisine.html
        "cuisine.title": "K√ºche",
        
        // terrasse.html
        "terrasse.title": "Terrasse",
        
        // salle_manger.html
        "salle_manger.title": "Esszimmer",
        
        // salle_deau.html
        "salle_deau.title": "Badezimmer",
        
        // wc.html
        "wc.title": "Toilette",
        
        // placard_bleu.html
        "placard.title": "Blauer Schrank"
    },
    
    es: {
        // Navigation commune
        "nav.back": "‚Üê Volver",
        
        // index.html
        "index.title": "üè° Katikias 33",
        "index.subtitle": "Su gu√≠a digital completa",
        "index.welcome.title": "¬°Bienvenido a casa!",
        "index.welcome.greeting": "üíå Mensaje de bienvenida",
        "index.welcome.text1": "Estamos encantados de darle la bienvenida a nuestro hogar. Pasamos momentos muy agradables con frecuencia en este apartamento y esperamos que sea lo mismo para usted.",
        "index.welcome.text2": "Hemos puesto todo nuestro coraz√≥n y mucho cuidado en amueblar este peque√±o refugio y no dudamos de que usted tambi√©n sabr√° disfrutarlo y preservarlo lo mejor posible para quienes le sucedan.",
        "index.welcome.text3": "Le invitamos, ante todo, a disfrutar del apartamento y de la magn√≠fica vista que ofrece de la bah√≠a de Bandol, la isla de Bendor y el mar. Hemos creado esta gu√≠a para hacer su estancia m√°s agradable y para tratar de responder de la mejor manera a las preguntas que pueda tener.",
        "index.welcome.text4": "Que disfrute de su estancia‚Ä¶",
        "index.welcome.text5": "B√©atrix y Jean-Fran√ßois.",
        "index.essentiels.title": "‚ú® Esenciales a la llegada",
        "index.essentiels.desc": "Peque√±os consejos para facilitar su llegada y estancia.",
        "index.equipements.title": "Equipamiento",
        "index.equipements.desc": "Aire acondicionado, Televisi√≥n, Horno, placas de inducci√≥n, persianas enrollables... de cada habitaci√≥n del apartamento: Sal√≥n, Terraza, Cocina...",
        "index.residence.title": "La Residencia",
        "index.residence.desc": "Informaci√≥n sobre la residencia Katikias, conserjes, piscina, parque y servicios de la comunidad.",
        "index.proximity.title": "Cerca",
        "index.proximity.desc": "Tiendas, actividades, playas y acceso r√°pido alrededor de Katikias.",
        "index.departure.title": "Su Salida",
        "index.departure.desc": "Una √∫ltima mirada a la bah√≠a y es hora de partir. Lista de verificaci√≥n de salida y todos los pasos para terminar correctamente su estancia.",
        "index.quick.title": "üîë Acceso R√°pido",
        "index.quick.portail.ped": "üö∂‚Äç‚ôÇÔ∏è Peat√≥n",
        "index.quick.portail.car": "üöó Coche",
        "index.quick.wifi": "üì∂ Wi-Fi",
        "index.quick.urgences": "üö® Emergencias",
        "index.quick.piscine": "üèä‚Äç‚ôÄÔ∏è Piscina",
        "index.quick.piscine.bracelet": "Pulsera roja obligatoria",
        "index.footer": "¬°Gracias por su confianza! Que disfrute de su estancia en Katikias 33 üåü",
        
        // apartment_guide.html
        "apartment.title": "Plan del apartamento",
        "apartment.subtitle": "Haga clic en una habitaci√≥n para ver su equipamiento",
        "apartment.guide.title": "Gu√≠a Pr√°ctica",
        "apartment.guide.link": "Esenciales a la llegada",
        
        // tips_and_tricks.html
        "tips.title": "Esenciales a la llegada",
        "tips.subtitle": "Todo lo que necesita saber para comenzar bien su estancia",
        
        // residence.html
        "residence.title": "La Residencia",
        "residence.subtitle": "Informaci√≥n sobre la residencia Katikias",
        
        // proximity.html
        "proximity.title": "Cerca",
        "proximity.subtitle": "Tiendas, actividades, playas y acceso alrededor de Katikias 33",
        
        // departure_procedure.html
        "departure.title": "Su Salida",
        "departure.subtitle": "Lista de verificaci√≥n y procedimientos de salida",
        
        // emergencies.html
        "emergencies.title": "Emergencias",
        "emergencies.subtitle": "N√∫meros de emergencia y contactos importantes",
        
        // Pages de pi√®ces communes
        "room.equipments": "Equipamiento",
        "room.no_image": "Imagen no disponible",
        "room.back": "‚Üê Volver al plan",
        
        // salon.html
        "salon.title": "Sal√≥n",
        
        // chambre.html
        "chambre.title": "Dormitorio",
        
        // cuisine.html
        "cuisine.title": "Cocina",
        
        // terrasse.html
        "terrasse.title": "Terraza",
        
        // salle_manger.html
        "salle_manger.title": "Comedor",
        
        // salle_deau.html
        "salle_deau.title": "Cuarto de ba√±o",
        
        // wc.html
        "wc.title": "Aseo",
        
        // placard_bleu.html
        "placard.title": "Armario Azul"
    }
};

// Fonction pour changer la langue
function changeLanguage(lang) {
    // Sauvegarder la pr√©f√©rence
    if (typeof Storage !== 'undefined') {
        localStorage.setItem('preferredLanguage', lang);
    }
    
    // Mettre √† jour l'attribut lang du HTML
    document.documentElement.lang = lang;
    
    // Mettre √† jour le s√©lecteur de langue s'il existe
    const langSelector = document.getElementById('langSelector');
    if (langSelector) {
        langSelector.value = lang;
    }
    
    // Traduire tous les √©l√©ments avec data-lang-key
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
            // Pr√©server le HTML interne si n√©cessaire
            if (element.innerHTML && element.innerHTML !== element.textContent) {
                // Si c'est du HTML, on le remplace compl√®tement
                element.textContent = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
    
    // Traduire les attributs alt et title des images
    document.querySelectorAll('img[data-lang-alt], img[data-lang-title]').forEach(img => {
        const altKey = img.getAttribute('data-lang-alt');
        const titleKey = img.getAttribute('data-lang-title');
        if (altKey && translations[lang] && translations[lang][altKey]) {
            img.alt = translations[lang][altKey];
        }
        if (titleKey && translations[lang] && translations[lang][titleKey]) {
            img.title = translations[lang][titleKey];
        }
    });
}

// Fonction d'initialisation de la langue
function initLanguage() {
    // R√©cup√©rer la langue sauvegard√©e ou d√©tecter
    let initialLang = 'fr'; // Par d√©faut fran√ßais
    
    if (typeof Storage !== 'undefined') {
        const savedLang = localStorage.getItem('preferredLanguage');
        if (savedLang && translations[savedLang]) {
            initialLang = savedLang;
        } else {
            // D√©tection automatique bas√©e sur le navigateur
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.split('-')[0].toLowerCase();
            if (translations[langCode]) {
                initialLang = langCode;
            }
        }
    }
    
    // Appliquer la langue
    changeLanguage(initialLang);
}

// Initialiser au chargement du DOM
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initLanguage);
} else {
    initLanguage();
}
